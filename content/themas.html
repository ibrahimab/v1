<?php

echo html("inleiding","themas",array("l1"=>"contact","v_websitenaam"=>$vars["websitenaam"]));
echo "<br>&nbsp;<br>";

$db->query("SELECT thema_id, naam".$vars["ttv"]." AS naam, url".$vars["ttv"]." AS url, externeurl".$vars["ttv"]." AS externeurl FROM thema WHERE wzt='".addslashes($vars["seizoentype"])."' AND actief=1 ORDER BY ".($vars["seizoentype"]==2 ? "positiehoofdpagina, " : "")."naam".$vars["ttv"].";");



if($db->num_rows()) {
	$array[] = array();
	echo "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">";
    $aantal = $db->num_rows();
            if($aantal%3>0){
            	for($i =0; $i<(3-$aantal%3);$i++){
                	array_push($array, $i);
                }
            }
            else{
            //voor het geval het om een even getal getaal gaat moet hij even extra corrigeren
                for($i =0; $i<(2-$aantal%3);$i++){
                	array_push($array, $i);
                }
            }
	while($db->next_record()) {
		unset($url,$blank);
		if($db->f("externeurl")) {
			if(ereg("^http",$db->f("externeurl"))) {
				$url=$db->f("externeurl");
				$blank=" target=\"_blank\"";
			} else {
				$url=$vars["path"].$db->f("externeurl");
			}
		} elseif($db->f("url")) {
			$url=$vars["path"].txt("menu_thema")."/".$db->f("url")."/";
		}
		if($db->f("naam")) {
			
            foreach($array as $k => $value){
            	if($k%3 == 0){
                	echo "<tr>";
                }
                
                echo "<td><a href=\"".htmlentities($url)."\"".$blank."><img src=\"".$vars["path"]."pic/cms/themas_hoofdpagina/".$db->f("thema_id").".jpg\" width=\"189\" height=\"142\" border=\"0\"></a><BR />";
                
                echo "<a href=\"".htmlentities($url)."\"".$blank.">".htmlentities($db->f("naam"))."</a><br /><br /><br /></td>";
                $db->next_record();
                if($k%3==2){
                	echo "</tr>";
                   
                }
                
            }
            
		}
        
	}
	echo "</table>";
}

?>